(this["webpackJsonpfeedback-app"]=this["webpackJsonpfeedback-app"]||[]).push([[0],{115:function(e,t,a){},150:function(e,t){e.exports="data:image/png;base64,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"},180:function(e,t,a){e.exports=a(317)},185:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(41),l=a.n(c),o=(a(185),a(115),a(327)),i=a(325),u=a(323),s=a(328),p=a(329),m=a(168),d=a(150),h=a.n(d),E=a(32),f=a(33),g=a(35),v=a(34),j=a(111),w=a(326),b=a(322),y=a(14),S=a(53),A=a(75),k=a.n(A);a(186);function R(e){for(var t=Object(y.f)(),a=k()(new Date(2020,0,1)),n=k()().startOf("month"),c=[];n>=a||a.format("M")===n.format("M");)c.push({key:a.format("YYYY-MM-DD"),value:a.format("YYYY-MM-DD"),text:a.format("MMM YYYY")}),a.add(1,"month");return r.a.createElement(i.a,{placeholder:"Select month",inline:!0,defaultValue:e.month,options:c,onChange:function(a,n){return t.push("/".concat(e.project,"/feedback/").concat(n.value))}})}var C=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={data:[],apiRequestProcessed:!1,error:null},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.getActivities(this.props.month)}},{key:"getActivities",value:function(e){var t=this;this.setState({data:[],apiRequestProcessed:!1,error:null});var a="".concat(this.props.apiServer,"/Feedback/").concat(this.props.project,"?date=").concat(e);fetch(a).then((function(e){return e.json()})).then((function(e){t.setState({data:e,apiRequestProcessed:!0})})).catch((function(e){t.setState({apiRequestProcessed:!0,error:"Request to ".concat(a," failed: ").concat(e.toString())})}))}},{key:"componentDidUpdate",value:function(e,t,a){e.month===this.props.month&&e.project===this.props.project||this.getActivities(this.props.month)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.apiRequestProcessed,c=t.error,l=a.filter((function(e){return e.helpful})).reduce((function(e,t){return e+1}),0),o=a.filter((function(e){return!e.helpful})).reduce((function(e,t){return e+1}),0);return r.a.createElement("div",null,r.a.createElement("span",null,"Feedback in "," "," ",r.a.createElement(R,{project:this.props.project,month:this.props.month}),r.a.createElement(j.a,{className:"thumbs up outline icon green",style:{margin:0}}),r.a.createElement("sup",null,l)," ",r.a.createElement(j.a,{className:"thumbs down outline icon red",style:{margin:0}}),r.a.createElement("sup",null,o)),r.a.createElement(w.a,{basic:"very",fixed:!0,celled:!0,collapsing:!0,style:{width:"100%"}},r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.HeaderCell,{width:7},"Page"),r.a.createElement(w.a.HeaderCell,{width:5},"Feedback"),r.a.createElement(w.a.HeaderCell,{width:5},"Date"))),r.a.createElement(w.a.Body,null,a.map((function(t){return r.a.createElement(w.a.Row,{key:t.uri},r.a.createElement(w.a.Cell,{key:t.uri},r.a.createElement(S.b,{to:"/".concat(e.props.project,"/page/")+btoa(t.uri.toString())},t.uri.toString()),r.a.createElement("a",{href:t.uri.toString(),target:"_blank"},r.a.createElement(j.a,{className:"open-new-window black"}))),r.a.createElement(w.a.Cell,null,t.helpful?r.a.createElement(j.a,{className:"thumbs up outline icon large green"}):r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(j.a,{className:"thumbs down outline icon large red"}),t.reason),t.information&&r.a.createElement("p",null,t.information))),r.a.createElement(w.a.Cell,null,t.date))})),n&&0===a.length&&r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,{colSpan:4,textAlign:"center"},c||"No feedback available")),!n&&r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,{colSpan:4,textAlign:"center"},r.a.createElement(b.a,{active:!0,inline:!0,centered:"true"},"Loading Feedback"))))))}}]),a}(n.Component),x=r.a.createContext(),M=x.Provider,O=x.Consumer,D=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={project:"apoc"},e.updateProject=function(t){e.setState({project:t})},e}return Object(f.a)(a,[{key:"render",value:function(){return r.a.createElement(M,{value:{project:this.state.project,updateProject:this.updateProject}},this.props.children)}}]),a}(n.Component),Y=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={data:[],apiRequestProcessed:!1,error:null},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.getActivities(this.props.page)}},{key:"getActivities",value:function(e){var t=this;this.setState({data:[],apiRequestProcessed:!1,error:null});var a="".concat(this.props.apiServer,"/Fire/").concat(this.props.project);fetch(a).then((function(e){return e.json()})).then((function(e){t.setState({data:e,apiRequestProcessed:!0})})).catch((function(e){t.setState({apiRequestProcessed:!0,error:"Request to ".concat(a," failed: ").concat(e.toString())})}))}},{key:"componentDidUpdate",value:function(e,t,a){e.page!==this.props.page&&this.getActivities(this.props.page)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.apiRequestProcessed,c=t.error;return r.a.createElement("div",null,r.a.createElement(w.a,{basic:"very",fixed:!0,celled:!0,collapsing:!0,style:{width:"100%"}},r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.HeaderCell,{width:7},"Page"),r.a.createElement(w.a.HeaderCell,{width:6,colSpan:2},"Feedback"),r.a.createElement(w.a.HeaderCell,{width:3},"Negative Ranking"))),r.a.createElement(w.a.Body,null,a.map((function(t){return r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,r.a.createElement(S.b,{to:"/".concat(e.props.project,"/page/")+btoa(t.uri.toString())},t.uri.toString()),r.a.createElement("a",{href:t.uri.toString(),target:"_blank"},r.a.createElement(j.a,{className:"open-new-window black"}))),r.a.createElement(w.a.Cell,null,r.a.createElement(j.a,{name:"thumbs down outline icon red large",style:{margin:0}}),r.a.createElement("sup",null,t.notHelpful)),r.a.createElement(w.a.Cell,null,r.a.createElement(j.a,{name:"thumbs up outline icon green large",style:{margin:0}}),r.a.createElement("sup",null,t.helpful)),r.a.createElement(w.a.Cell,null,t.unhelpfulness))})),n&&0===a.length&&r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,{colSpan:4,textAlign:"center"},c||"No feedback available")),!n&&r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,{colSpan:4,textAlign:"center"},r.a.createElement(b.a,{active:!0,inline:!0,centered:"true"},"Loading Feedback"))))))}}]),a}(n.Component),F=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={data:{feedback:[]}},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.getActivities(this.props.page)}},{key:"getActivities",value:function(e){var t=this;this.setState({data:{feedback:[]}}),fetch("".concat(this.props.apiServer,"/Page/").concat(e)).then((function(e){return e.json()})).then((function(e){t.setState({data:e[0]})})).catch(console.log)}},{key:"componentDidUpdate",value:function(e,t,a){e.page!==this.props.page&&this.getActivities(this.props.page),e.project!==this.props.project&&this.props.updateProject(this.props.project)}},{key:"render",value:function(){var e=this.state.data,t=atob(this.props.page),a=t.replace("https://",""),n=e.feedback.filter((function(e){return e.helpful})).reduce((function(e,t){return e+1}),0),c=e.feedback.filter((function(e){return!e.helpful})).reduce((function(e,t){return e+1}),0);return r.a.createElement("div",null,r.a.createElement("h3",null,a," ",r.a.createElement("a",{href:t,target:"_blank"},r.a.createElement(j.a,{className:"open-new-window black"}))),r.a.createElement("div",null,r.a.createElement(j.a,{name:"thumbs up outline icon green large",style:{margin:0}}),r.a.createElement("sup",null,n)," ",r.a.createElement(j.a,{name:"thumbs down outline icon red large",style:{margin:0}}),r.a.createElement("sup",null,c)),r.a.createElement(w.a,{basic:"very",fixed:!0,celled:!0,collapsing:!0,style:{width:"100%"}},r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.HeaderCell,{width:10},"Feedback"),r.a.createElement(w.a.HeaderCell,{width:7},"Date"))),r.a.createElement(w.a.Body,null,e.feedback.map((function(e){return r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,e.helpful?r.a.createElement(j.a,{name:"thumbs up outline icon large green"}):r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(j.a,{name:"thumbs down outline icon large red"}),e.reason),e.information&&r.a.createElement("p",null,e.information))),r.a.createElement(w.a.Cell,null,e.date))})),0===e.feedback.length&&r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,{colSpan:3,textAlign:"center"},r.a.createElement(b.a,{active:!0,inline:!0,centered:!0},"Loading Feedback"))))))}}]),a}(n.Component),N=a(75),H={padding:"1em 1em 1em 1em"},P={borderRadius:"0",minHeight:"100vh",display:"flex",width:"12em"},L={backgroundColor:"#1b1c1d"};function I(e){var t=Object(y.f)(),a=e.context;return r.a.createElement("nav",{style:L},r.a.createElement(o.a,{vertical:!0,inverted:!0,style:P},r.a.createElement(o.a.Item,null,r.a.createElement(i.a,{options:[{key:"apoc",text:"APOC",value:"apoc"},{key:"@graphapps-neosemantics",text:"n10s Graph App",value:"@graphapps-neosemantics"},{key:"@graphapps-apoc",text:"APOC Graph App",value:"@graphapps-apoc"},{key:"neo4j-streams",text:"Neo4j Streams",value:"neo4j-streams"},{key:"GRANDstack",text:"GRANDstack",value:"GRANDstack"}],fluid:!0,value:a.project,onChange:function(e,n){a.updateProject(n.value),t.push("/".concat(n.value))}})),r.a.createElement(o.a.Item,{as:"a",onClick:function(){return t.push("/".concat(a.project))},style:H},"All Feedback"),r.a.createElement(o.a.Item,{as:"a",onClick:function(){return t.push("/".concat(a.project,"/fire"))},style:H},"Negative Feedback")))}function z(e){var t=Object(y.g)(),a=Object(y.h)("/:project");r.a.useEffect((function(){a&&a.params.project&&e.context.updateProject(a.params.project)}),[t]);var n=N().startOf("month");return r.a.createElement(y.c,null,r.a.createElement(y.a,{path:"/",exact:!0,render:function(){return r.a.createElement(C,{apiServer:e.apiServer,month:n.format("YYYY-MM-DD"),project:"apoc"})}}),r.a.createElement(y.a,{path:"/:project",exact:!0,render:function(t){return r.a.createElement(C,{apiServer:e.apiServer,month:n.format("YYYY-MM-DD"),project:t.match.params.project})}}),r.a.createElement(y.a,{path:"/:project/feedback/:month",exact:!0,render:function(t){return r.a.createElement(C,{apiServer:e.apiServer,month:t.match.params.month,project:t.match.params.project})}}),r.a.createElement(y.a,{path:"/:project/fire",exact:!0,render:function(t){return r.a.createElement(Y,{apiServer:e.apiServer,project:t.match.params.project})}}),r.a.createElement(y.a,{path:"/:project/page/:page",exact:!0,render:function(t){return r.a.createElement(F,{apiServer:e.apiServer,page:t.match.params.page})}}))}function q(e){var t="Neo4j Labs Feedback";return r.a.createElement(S.a,null,r.a.createElement(u.a,{fluid:!0,style:{display:"flex"}},r.a.createElement(O,null,(function(a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{context:a}),r.a.createElement("main",{style:{width:"100%"}},r.a.createElement(s.a,{basic:!0,vertical:!1,style:{display:"flex",justifyContent:"space-between",marginBottom:"0"}},t?r.a.createElement(p.a,{as:"h1",inverted:!0,color:"grey",style:{marginTop:"0"}},t):null,r.a.createElement(m.a,{src:h.a,width:"38px",height:"38px"})),r.a.createElement("div",{style:{display:"flex",padding:"1em 1em"}},r.a.createElement(z,{context:a,apiServer:e.apiServer}))))}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_SERVER:"https://uglfznxroe.execute-api.us-east-1.amazonaws.com/dev"})),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null,r.a.createElement(q,{apiServer:"https://uglfznxroe.execute-api.us-east-1.amazonaws.com/dev"}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[180,1,2]]]);
//# sourceMappingURL=main.291852fa.chunk.js.map